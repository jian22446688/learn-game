window.__require=function e(t,n,i){function s(c,u){if(!n[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var r="function"==typeof __require&&__require;if(!u&&r)return r(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+c+"'")}}var d=n[c]={exports:{}};t[c][0].call(d.exports,function(e){return s(t[c][1][e]||e)},d,d.exports,e,t,n,i)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<i.length;c++)s(i[c]);return s}({AnimatorEvent:[function(e,t,n){"use strict";cc._RF.push(t,"ef3d1uZsQRIq4llKUBYy5IV","AnimatorEvent"),cc.Class({extends:cc.Component,properties:{},start:function(){},AnimatorEvent:function(e){var t=new cc.Event.EventCustom(e,!0);this.node.dispatchEvent(t)}}),cc._RF.pop()},{}],BaseGame:[function(e,t,n){"use strict";cc._RF.push(t,"1356bs3+FxJy4Z2UKMK3Z0j","BaseGame");var i=e("../utils/CusHttp");cc.Class({extends:cc.Component,properties:{GameId:"001",questLength:3,gameConfig:{type:cc.JsonAsset,default:null},dataList:{type:cc.JsonAsset,default:null},datauRL:{type:String,default:"/json/game-question.json"},audioManager:null,currentNumber:0,_quesList:[],_curQues:null,_curAudioId:-1},onLoad:function(){(new i).Get(this.datauRL,function(e){console.log(e)});new XMLHttpRequest;var e=this.dataList.json,t=this.GameId;this._quesList=e.filter(function(e){return e.game_id==t}),this.questLength,this._quesList.length>=this.questLength&&(this._quesList.length=this.questLength)},start:function(){},getQuesList:function(){return this._quesList},findQues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<this._quesList.length?this._quesList[e]:this._quesList[this.currentNumber]},getCurQues:function(){return this._quesList[this.currentNumber]},nextQuest:function(){return this.currentNumber+1<this._quesList.length?(this.currentNumber++,this._curQues=this._quesList[this.currentNumber],this._curQues):null},playAudio:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e?cc.loader.loadRes(e,cc.AudioClip,function(e,n){e||(cc.audioEngine.stop(t._curAudioId),t._curAudioId=cc.audioEngine.play(n,!1))}):cc.audioEngine.play(e,n)},playAudioUrl:function(e){var t=this;null!=t.audioManager?cc.loader.load(e,function(e,n){e?console.error("load audio error"):t.audioManager.playAudioClip(n)}):console.error("audioManager emtpy")},stopAudioAll:function(){cc.audioEngine.stopAll()},setResSprite:function(e,t){if("string"==typeof t){if(!e)return void cc.error("BaseGame set sprite error");cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?cc.error(t.message||t):e.spriteFrame=n})}}}),cc._RF.pop()},{"../utils/CusHttp":"CusHttp"}],CusHttp:[function(e,t,n){"use strict";cc._RF.push(t,"6103anqNINJTJOs5N1SoltB","CusHttp");var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){s(this,e),this._http,this._callback}return i(e,[{key:"Get",value:function(e,t){var n=cc.loader.getXMLHttpRequest();n.open("GET",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),this._callback=t,n.onreadystatechange=this._result.bind(this),n.timeout=1e4,n.send(),this._http=n}},{key:"Post",value:function(e,t,n){t=JSON.stringify(t);var i=cc.loader.getXMLHttpRequest();i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),this._callback=n,i.onreadystatechange=this._result.bind(this),i.timeout=1e4,i.send(t),this._http=i}},{key:"_result",value:function(){if(4==this._http.readyState&&500!=this._http.status){Global.StrToJSON(this._http.responseText).data;this._callback}}}]),e}();t.exports=o,cc._RF.pop()},{}],LeNode:[function(e,t,n){"use strict";cc._RF.push(t,"c11041hdxRN+rXBHN45Ce3M","LeNode");var i=cc.Class({extends:cc.Component,statics:{_instance:null},properties:{au_btn_sound:{default:null,type:cc.AudioClip},au_id_btn:{default:null,visible:!1},au_id_question:{default:null,visible:!1,serializable:!1}},onLoad:function(){i._instance=this,cc.game.addPersistRootNode(this.node)},auBtnPlay:function(){au_btn_sound&&(this.au_id_btn=cc.audioEngine.play(clip,!1))},auQuesPlay:function(e){var t=this;cc.loader.loadRes(e,cc.AudioClip,function(e,n){e||(cc.audioEngine.stop(t.au_id_question),t.au_id_question=cc.audioEngine.play(n,!1))})},auQuesStop:function(){cc.audioEngine.stop(this.au_id_question)},auStopAll:function(){cc.audioEngine.stopAll()}});t.exports=i,cc._RF.pop()},{}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"49c5823M2pDBLY5/Nncatf3","Main");var i=e("./gameNode"),s=e("../utils/index"),o=cc.Class({extends:cc.Component,statics:{_instance:null},properties:{gameNode:{type:i,default:null},QuestImage:{type:cc.Sprite,default:null},answer_to:{type:cc.Node,default:null},AnimateNode:{type:cc.Animation,default:null},answerNode:{type:[cc.Node],default:[]},answer:{type:[cc.Sprite],default:[]},quesList:[],curQuestion:null,curQuesNumber:0,auZhengque:{type:cc.AudioClip,default:null},auCuowu:{type:cc.AudioClip,default:null},btn_next:{type:cc.Node,default:null},rePlayPanel:{type:cc.Node,default:null}},onLoad:function(){o._instance=this,this.answerNode=this.node.getChildByName("answer").children,this.answer=this.answerNode.map(function(e){return e.children[0].getComponent(cc.Sprite)}),this.answerPos=this.answerNode.map(function(e){return JSON.parse(JSON.stringify(e.position))}),this.quesList=this.gameNode.getQuesList()},start:function(){this.initQuestion();var e=this;this.node.on("on-queset-move",function(t){e._selectAns=t.target.name,e.AnimateNode.play("chiing"),window._c_isClick=!1}),this.node.on("on-queset-start",function(t){window._c_isClick&&e.AnimateNode.play("zhangzui")}),this.node.on("on-queset-end",function(t){window._c_isClick&&e.AnimateNode.play("daiji")}),this.node.on("on-anim-chiwan-end",function(t){e.AnimateNode.play("zhengque"),e.gameNode.auClipPlay(e.auZhengque)}),this.node.on("on-anim-zhengque-end",function(t){e.btn_next.active=!0,e.AnimateNode.play("daiji"),e.curQuesNumber===e.quesList.length-1&&(e.rePlayPanel.active=!0,e.btn_next.active=!1)}),this.node.on("on-anim-cuowu-end",function(t){e.AnimateNode.play("daiji"),window._c_isClick=!0}),this.node.on("on-move-zhengque-end",function(t){window._c_isClick=!1,e.AnimateNode.play("chiing")}),this.node.on("on-move-cuowu-end",function(t){window._c_isClick=!1,e.gameNode.auClipPlay(e.auCuowu),e.AnimateNode.play("cuowu")}),this.node.on("on-move-complete-end",function(e){window._c_isClick=!1})},initQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;window._c_isClick=!0,this.rePlayPanel.active=!1,this.curQuestion=this.quesList[e];for(var t=0;t<this.answerNode.length;t++)this.answerNode[t].setPosition(this.answerPos[t]),this.answerNode[t].active=!0;this.answer[0].scale=.97,this.answer[1].scale=.97,this.answer[2].scale=.97,this.gameNode.setQuesSprite(this.answer[0],this.curQuestion.select_a),this.gameNode.setQuesSprite(this.answer[1],this.curQuestion.select_b),this.gameNode.setQuesSprite(this.answer[2],this.curQuestion.select_c),this.initQ(),this.randomPos(),this.randomPos(),this.randomPos(),this.btn_next.active=!1,this.curQuesNumber=e},chiingEvent:function(){var e=this._selectAns;e=e.substr(e.lastIndexOf(),e.length),console.log("name",e);var t=this.curQuestion.answer;e.toLowerCase()===t.toLowerCase()?(console.log("\u56de\u7b54\u6b63\u786e"),this.gameNode.auClipPlay(this.auZhengque),this.AnimateNode.play("zhengque")):(this.gameNode.auClipPlay(this.auCuowu),this.AnimateNode.play("cuowu")),this.curQuesNumber===this.quesList.length-1&&alert("\u56de\u7b54\u5b8c\u6210")},initQ:function(){if(this.curQuestion){var e=this.curQuestion.question;"audio"===this.curQuestion.question_type?this.gameNode.auQuesPlay(e):"image"===this.curQuestion.question_type&&this.QuestImage&&this.gameNode.setQuesSprite(this.QuestImage,e)}},getCurQues:function(){return this.curQuestion},randomPos:function(){var e=s.getRandomNum(1,3);switch(this.answerPos.sort(s.randomsort),e){case 1:var t=this.answerPos[0];this.answerNode[0].position=this.answerPos[1],this.answerNode[1].position=this.answerPos[2],this.answerNode[2].position=t;break;case 2:var n=this.answerPos[1];this.answerNode[1].position=this.answerPos[2],this.answerNode[2].position=this.answerPos[0],this.answerNode[0].position=n;break;case 3:var i=this.answerPos[2];this.answerNode[2].position=this.answerPos[0],this.answerNode[0].position=this.answerPos[1],this.answerNode[1].position=i}},nextQuest:function(){this.curQuesNumber+1<this.quesList.length&&(this.curQuesNumber++,this.initQuestion(this.curQuesNumber))},onTestButton:function(){console.log("chiing"),this.AnimateNode.play("chiing")},onPlayQuestion:function(){if(window._c_isClick&&this.curQuestion){var e=this.curQuestion.question;"audio"===this.curQuestion.question_type?this.gameNode.auQuesPlay(e):this.curQuestion.question_type}},onGameNext:function(){this.gameNode.auBtnPlay(),this.nextQuest()},onReplayGame:function(){this.gameNode.auBtnPlay(),this.initQuestion()},onGameExit:function(){this.gameNode.auBtnPlay(),cc.game.end()}});cc._RF.pop()},{"../utils/index":"index","./gameNode":"gameNode"}],animateEvent:[function(e,t,n){"use strict";cc._RF.push(t,"079a8+7GuJJya0uPS1o5+sA","animateEvent"),cc.Class({extends:cc.Component,properties:{audaiji:{type:cc.AudioClip,default:null},auchiing:{type:cc.AudioClip,default:null},aujiaoyan:{type:cc.AudioClip,default:null},aufanu:{type:cc.AudioClip,default:null}},start:function(){},audaijiEvent:function(e){cc.audioEngine.play(this[e],!1)},chiingEvent:function(){var e=new cc.Event.EventCustom("on-anim-chiwan-end",!0);this.node.dispatchEvent(e)},zhengqueEvent:function(){var e=new cc.Event.EventCustom("on-anim-zhengque-end",!0);this.node.dispatchEvent(e)},cuowuEvent:function(){var e=new cc.Event.EventCustom("on-anim-cuowu-end",!0);this.node.dispatchEvent(e)}}),cc._RF.pop()},{}],event:[function(e,t,n){"use strict";cc._RF.push(t,"28ca5V1v6hMHZs5kH6/KCsP","event"),t.exports.$emit=function(e,t,n){var i=new cc.Event.EventCustom(t,!0);i.setUserData(n),e.dispatchEvent(i)},cc._RF.pop()},{}],gameManager:[function(e,t,n){"use strict";cc._RF.push(t,"ed003UizRZMIY6HS1Rp89bI","gameManager");var i=cc.Class({extends:cc.Component,properties:{},statics:{self:null,getInstance:function(){if(null==i.self){var e=new cc.Node("GameManager");i.self=e.addComponent(i)}return i.self}},ctor:function(){i.self=this},onLoad:function(){cc.game.addPersistRootNode(this.node)}});t.exports=i,cc._RF.pop()},{}],gameNode:[function(e,t,n){"use strict";cc._RF.push(t,"3ff3bPQjJFJE4uxoWVFwtup","gameNode");e("../utils/CusHttp");var i=cc.Class({statics:{_instance:null},extends:cc.Component,properties:{gameConfig:{type:cc.JsonAsset,default:null},gameQuestion:{type:cc.JsonAsset,default:null},questionList:{type:Object,default:null},gameQues:{type:Object,default:null},currentQues:{type:Object,default:null},au_btn_Clip:{type:cc.AudioClip,default:null},au_btn_sound:{type:cc.AudioSource,default:null},au_id_btn:{default:null,visible:!1},au_id_question:{default:null,visible:!1,serializable:!1}},onLoad:function(){i._instance=this,cc.game.addPersistRootNode(this.node),this.questionList=this.gameQuestion.json,this.gameQues=this.getGameQues(this.questionList)},start:function(){window.c_GameNode=this,this.au_btn_sound=this.getComponent(cc.AudioSource)},getGameQues:function(e){var t=this.gameConfig.json.game_id;return e.filter(function(e){return e.game_id==t})},getQuesList:function(){var e=this.gameQues,t=this.gameConfig.json.question_number,n=JSON.parse(JSON.stringify(e));return n.sort(function(){return Math.random()>.5?-1:1}),n.length=t>=n.length?n.length:t,this.currentQues=n,n},getQues:function(e){return e>=this.currentQues.length?this.currentQues[this.currentQues.length]:this.currentQues[e]},auBtnPlay:function(){this.au_btn_sound.play()},auQuesPlay:function(e){var t=this;cc.loader.loadRes(e,cc.AudioClip,function(e,n){e||(cc.audioEngine.stop(t.au_id_question),t.au_id_question=cc.audioEngine.play(n,!1))})},auClipPlay:function(e){cc.audioEngine.play(e,!1)},auQuesStop:function(){cc.audioEngine.stop(this.au_id_question)},auStopAll:function(){cc.audioEngine.stopAll()},setQuesSprite:function(e,t){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t?cc.error(t.message||t):e?e.spriteFrame=n:cc.error("gameNode set sprite error")})}});t.exports=i,cc._RF.pop()},{"../utils/CusHttp":"CusHttp"}],index:[function(e,t,n){"use strict";cc._RF.push(t,"122622mcthCO5qk1jy38wSF","index"),t.exports.getRandomNum=function(e,t){var n=t-e,i=Math.random();return e+Math.round(i*n)},t.exports.randomsort=function(e,t){return Math.random()>.5?-1:1},cc._RF.pop()},{}],move:[function(e,t,n){"use strict";cc._RF.push(t,"cbc65J8SftPf54K6HYaM5fA","move");var i=e("./Main");cc.Class({extends:cc.Component,properties:{_selfRect:null,_curQues:null},onLoad:function(){},start:function(){var e=this,t=!1,n=i._instance.answer_to,s=new cc.Rect(n.x,n.y,n.width,n.height),o=null,c=null;function u(t){if(window._c_isClick){var n=e._curQues.answer;if(e.node.zIndex=c,s.containsRect(e._selfRect)){var i=t.target.name;if((i=i.substr(i.lastIndexOf(),i.length)).toLowerCase()===n.toLowerCase()){var u=new cc.Event.EventCustom("on-move-zhengque-end",!0);e.node.dispatchEvent(u),e.node.active=!1}else{e.node.runAction(cc.moveTo(.2,o));var a=new cc.Event.EventCustom("on-move-cuowu-end",!0);e.node.dispatchEvent(a)}var r=new cc.Event.EventCustom("on-move-complete-end",!0);e.node.dispatchEvent(r)}else{e.node.runAction(cc.moveTo(.2,o));var d=new cc.Event.EventCustom("on-queset-end",!0);e.node.dispatchEvent(d)}}}this.node.on(cc.Node.EventType.TOUCH_START,function(n){if(window._c_isClick){e._curQues=i._instance.getCurQues(),t=!0,o=e.node.position,c=e.node.zindex,e.node.zIndex=999;var s=new cc.Event.EventCustom("on-queset-start",!0);e.node.dispatchEvent(s),e.node.on(cc.Node.EventType.TOUCH_MOVE,function(n){t&&(e.node.x+=n.getDelta().x,e.node.y+=n.getDelta().y,e._selfRect=new cc.Rect(e.node.x,e.node.y,e.node.width,e.node.height)),n.stopPropagation()},e.node)}},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(n){t&&(e.node.zIndex=c,u(n)),t=!1,e.node.off(cc.Node.EventType.TOUCH_MOVE)},this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){t&&(e.node.zIndex=c,u(event)),t=!1,e.node.off(cc.Node.EventType.TOUCH_MOVE)},this.node)}}),cc._RF.pop()},{"./Main":"Main"}],myMove:[function(e,t,n){"use strict";cc._RF.push(t,"2b064DKdJZMRaNjBfJl8hfe","myMove"),cc.Class({extends:cc.Component,properties:{moves:cc.Vec2,duration:1},start:function(){this._pos=this.node.position;var e=cc.repeatForever(cc.sequence(cc.moveTo(this.duration,this.moves),cc.place(this._pos)));this.node.runAction(e)}}),cc._RF.pop()},{}],myRotate:[function(e,t,n){"use strict";cc._RF.push(t,"4b04fom3WZANpNQrKqx+yBI","myRotate"),cc.Class({extends:cc.Component,properties:{duration:1.3,rotate:.1},start:function(){var e=cc.repeatForever(cc.sequence(cc.rotateBy(this.duration,this.rotate),cc.rotateBy(this.duration,-this.rotate)));this.node.runAction(e)}}),cc._RF.pop()},{}],repeatForever:[function(e,t,n){"use strict";cc._RF.push(t,"4fee3KdaE9O25pbhHezsEOd","repeatForever");var i=cc.Enum({move:0,rotate:1,scale:2});cc.Class({extends:cc.Component,properties:{ActionType:{type:i,default:i.move},moves:{type:cc.Vec2,default:new cc.Vec2(0,0),visible:function(){return this.ActionType===i.move}},moveReverse:{type:cc.Boolean,default:!1,visible:function(){return this.ActionType===i.move}},rotate:{default:1,visible:function(){return this.ActionType===i.rotate}},scale:{type:cc.Vec2,default:new cc.Vec2(0,0),visible:function(){return this.ActionType===i.scale}},duration:.3},onLoad:function(){},start:function(){var e=null;this.ActionType===i.move?(this._pos=this.node.position,e=cc.repeatForever(cc.sequence(cc.moveTo(this.duration,this.moves),this.moveReverse?cc.moveTo(this.duration,this._pos):cc.place(this._pos)))):this.ActionType===i.rotate?e=cc.repeatForever(cc.sequence(cc.rotateBy(this.duration,this.rotate),cc.rotateBy(this.duration,-this.rotate))):this.ActionType===i.scale&&(this._scalex=this.node.scaleX,this._scaley=this.node.scaleY,e=cc.repeatForever(cc.sequence(cc.scaleTo(this.duration,this.scale.x,this.scale.y),cc.scaleTo(this.duration,this._scalex,this._scaley)))),this.node.runAction(e)}}),cc._RF.pop()},{}]},{},["myMove","myRotate","repeatForever","AnimatorEvent","BaseGame","LeNode","Main","gameManager","gameNode","animateEvent","move","CusHttp","event","index"]);